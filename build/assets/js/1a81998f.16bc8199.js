"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_textbook=self.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[104],{8453:(n,i,e)=>{e.d(i,{R:()=>t,x:()=>o});var r=e(6540);const s={},l=r.createContext(s);function t(n){const i=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function o(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),r.createElement(l.Provider,{value:i},n.children)}},8825:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"modules/m1-ros2/m1-urdf-humanoids","title":"Lesson 3: URDF for Humanoids","description":"Master URDF (Unified Robot Description Format) - the XML language for defining robot structures. Learn to model humanoid kinematic chains, joint limits, and physical properties.","source":"@site/docs/modules/m1-ros2/m1-urdf-humanoids.mdx","sourceDirName":"modules/m1-ros2","slug":"/modules/m1-ros2/m1-urdf-humanoids","permalink":"/docs/modules/m1-ros2/m1-urdf-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/Danishhshahid/Physical-AI-Humanoid-Robotics-Book/tree/main/website/docs/modules/m1-ros2/m1-urdf-humanoids.mdx","tags":[],"version":"current","frontMatter":{"id":"m1-urdf-humanoids","title":"Lesson 3: URDF for Humanoids","sidebar_label":"L3: URDF Humanoids","description":"Master URDF (Unified Robot Description Format) - the XML language for defining robot structures. Learn to model humanoid kinematic chains, joint limits, and physical properties."},"sidebar":"tutorialSidebar","previous":{"title":"L2: Python Agents to ROS","permalink":"/docs/modules/m1-ros2/m1-python-agents"},"next":{"title":"M2: Overview","permalink":"/docs/modules/m2-digital-twin/m2-overview"}}');var s=e(4848),l=e(8453);const t={id:"m1-urdf-humanoids",title:"Lesson 3: URDF for Humanoids",sidebar_label:"L3: URDF Humanoids",description:"Master URDF (Unified Robot Description Format) - the XML language for defining robot structures. Learn to model humanoid kinematic chains, joint limits, and physical properties."},o=void 0,a={},d=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"URDF Structure",id:"urdf-structure",level:2},{value:"Full Example: 6-DOF Humanoid Arm",id:"full-example-6-dof-humanoid-arm",level:2},{value:"Key Joint Types",id:"key-joint-types",level:2},{value:"Physical Properties (Inertia Tensor)",id:"physical-properties-inertia-tensor",level:2},{value:"Loading URDF in ROS 2",id:"loading-urdf-in-ros-2",level:2},{value:"Display in Rviz",id:"display-in-rviz",level:3},{value:"Use in Gazebo Simulation",id:"use-in-gazebo-simulation",level:3},{value:"Query URDF in Code",id:"query-urdf-in-code",level:3},{value:"Tesla Optimus URDF Structure (Simplified)",id:"tesla-optimus-urdf-structure-simplified",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Hands-On Project",id:"hands-on-project",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(n){const i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"URDF"})," (Unified Robot Description Format) is an XML file that describes:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Links"}),": Rigid bodies with mass, inertia, geometry"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Joints"}),": Connections between links (revolute, prismatic, fixed)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Sensors"}),": Cameras, IMUs, F/T sensors mounted on links"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Materials"}),": Visual appearance and colors"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Collision geometry"}),": For physics simulation and collision detection"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["URDF is the ",(0,s.jsx)(i.strong,{children:"blueprint"})," of a robot. Every ROS 2 application needs it."]}),"\n",(0,s.jsx)(i.h2,{id:"urdf-structure",children:"URDF Structure"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_name">\r\n\r\n  \x3c!-- Define rigid bodies (links) --\x3e\r\n  <link name="base_link">\r\n    \x3c!-- Visual geometry (what we see) --\x3e\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n    </visual>\r\n\r\n    \x3c!-- Collision geometry (for physics) --\x3e\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n    </collision>\r\n\r\n    \x3c!-- Physical properties --\x3e\r\n    <inertial>\r\n      <mass value="20.0"/>\r\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0"\r\n               iyy="0.5" iyz="0.0" izz="0.3"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Define joints (connections) --\x3e\r\n  <joint name="shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="upper_arm"/>\r\n    <axis xyz="0 1 0"/>  \x3c!-- Rotate around Y-axis --\x3e\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="2.0"/>\r\n    <origin xyz="0 0 0.5" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  <link name="upper_arm">\r\n    \x3c!-- Link definition --\x3e\r\n  </link>\r\n\r\n</robot>\n'})}),"\n",(0,s.jsx)(i.h2,{id:"full-example-6-dof-humanoid-arm",children:"Full Example: 6-DOF Humanoid Arm"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_arm">\r\n\r\n  \x3c!-- BASE (torso) --\x3e\r\n  <link name="base_link">\r\n    <inertial>\r\n      <mass value="15.0"/>\r\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0"\r\n               iyy="1.0" iyz="0.0" izz="0.8"/>\r\n    </inertial>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n    </collision>\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n      <material name="grey">\r\n        <color rgba="0.5 0.5 0.5 1.0"/>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- SHOULDER (Joint 1) --\x3e\r\n  <joint name="shoulder_pan" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="shoulder_link"/>\r\n    <origin xyz="0.0 0.0 0.5" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>  \x3c!-- Z-axis rotation --\x3e\r\n    <limit lower="-3.14" upper="3.14" effort="50" velocity="2.0"/>\r\n    <dynamics damping="0.1" friction="0.05"/>\r\n  </joint>\r\n\r\n  <link name="shoulder_link">\r\n    <inertial>\r\n      <mass value="3.0"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0"\r\n               iyy="0.1" iyz="0.0" izz="0.05"/>\r\n    </inertial>\r\n    <collision>\r\n      <origin xyz="0.2 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <visual>\r\n      <origin xyz="0.2 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- ELBOW (Joint 2) --\x3e\r\n  <joint name="shoulder_lift" type="revolute">\r\n    <parent link="shoulder_link"/>\r\n    <child link="upper_arm_link"/>\r\n    <origin xyz="0.4 0 0" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>  \x3c!-- Y-axis rotation --\x3e\r\n    <limit lower="-1.57" upper="1.57" effort="40" velocity="2.0"/>\r\n    <dynamics damping="0.1" friction="0.05"/>\r\n  </joint>\r\n\r\n  <link name="upper_arm_link">\r\n    <inertial>\r\n      <mass value="2.5"/>\r\n      <inertia ixx="0.08" ixy="0.0" ixz="0.0"\r\n               iyy="0.08" iyz="0.0" izz="0.03"/>\r\n    </inertial>\r\n    <collision>\r\n      <origin xyz="0.2 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <visual>\r\n      <origin xyz="0.2 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.4"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="1 0 0 1"/>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- WRIST (Joints 3-6): similar structure... --\x3e\r\n  \x3c!-- (abbreviated for space) --\x3e\r\n\r\n  \x3c!-- GRIPPER/END-EFFECTOR --\x3e\r\n  <joint name="wrist_3" type="revolute">\r\n    <parent link="wrist_link"/>\r\n    <child link="gripper_base"/>\r\n    <origin xyz="0.1 0 0" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-3.14" upper="3.14" effort="10" velocity="2.0"/>\r\n  </joint>\r\n\r\n  <link name="gripper_base">\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n</robot>\n'})}),"\n",(0,s.jsx)(i.h2,{id:"key-joint-types",children:"Key Joint Types"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Motion"}),(0,s.jsx)(i.th,{children:"Example"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"revolute"})}),(0,s.jsx)(i.td,{children:"Rotates around axis"}),(0,s.jsx)(i.td,{children:"Shoulder, elbow, wrist"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"prismatic"})}),(0,s.jsx)(i.td,{children:"Slides along axis"}),(0,s.jsx)(i.td,{children:"Gripper fingers (if linear)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"fixed"})}),(0,s.jsx)(i.td,{children:"No motion"}),(0,s.jsx)(i.td,{children:"End-effector frame"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"floating"})}),(0,s.jsx)(i.td,{children:"6 DOF (base)"}),(0,s.jsx)(i.td,{children:"Mobile robot base"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"physical-properties-inertia-tensor",children:"Physical Properties (Inertia Tensor)"}),"\n",(0,s.jsx)(i.p,{children:"The inertia tensor describes how mass is distributed:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:'<inertia ixx="..." ixy="..." ixz="..."\r\n         iyy="..." iyz="..."\r\n         izz="..."/>\n'})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"ixx, iyy, izz"}),": Moment of inertia around principal axes"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"ixy, ixz, iyz"}),": Off-diagonal coupling terms (usually 0)"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"For a rod of length L and mass m"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"ixx = (1/12) \xd7 m \xd7 L\xb2"}),"\n",(0,s.jsx)(i.li,{children:"iyy = (1/12) \xd7 m \xd7 L\xb2"}),"\n",(0,s.jsx)(i.li,{children:"izz \u2248 0 (thin rod)"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"loading-urdf-in-ros-2",children:"Loading URDF in ROS 2"}),"\n",(0,s.jsx)(i.h3,{id:"display-in-rviz",children:"Display in Rviz"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"ros2 launch joint_state_publisher_gui joint_state_publisher_gui.launch.py \\\r\n  model:=/path/to/humanoid.urdf\n"})}),"\n",(0,s.jsx)(i.h3,{id:"use-in-gazebo-simulation",children:"Use in Gazebo Simulation"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"gazebo humanoid.urdf\n"})}),"\n",(0,s.jsx)(i.h3,{id:"query-urdf-in-code",children:"Query URDF in Code"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'import rclpy\r\nfrom urdf_parser_py.urdf import URDF\r\n\r\nrobot = URDF.from_file(\'humanoid.urdf\')\r\n\r\nprint(f"Links: {[link.name for link in robot.links]}")\r\nprint(f"Joints: {[joint.name for joint in robot.joints]}")\r\n\r\n# Get specific joint limits\r\nshoulder_joint = robot.joint_map[\'shoulder_pan\']\r\nprint(f"Shoulder limits: {shoulder_joint.limit.lower} to {shoulder_joint.limit.upper}")\n'})}),"\n",(0,s.jsx)(i.h2,{id:"tesla-optimus-urdf-structure-simplified",children:"Tesla Optimus URDF Structure (Simplified)"}),"\n",(0,s.jsx)(i.p,{children:"Tesla Optimus is a 73-DOF humanoid with:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:" Torso (fixed to world)\r\n Head (3 DOF)\r\n Left Arm (7 DOF)\r\n Right Arm (7 DOF)\r\n Waist (3 DOF)\r\n Left Leg (6 DOF)\r\n Right Leg (6 DOF)\n"})}),"\n",(0,s.jsx)(i.p,{children:"Each joint is defined with:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Limits (min/max angles)"}),"\n",(0,s.jsx)(i.li,{children:"Max effort (torque)"}),"\n",(0,s.jsx)(i.li,{children:"Max velocity"}),"\n",(0,s.jsx)(i.li,{children:"Damping and friction"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Accurate inertia tensors"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Compute from CAD models or measure experimentally"}),"\n",(0,s.jsx)(i.li,{children:"Don't guess arbitrary values"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Realistic masses"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Use actual component weights"}),"\n",(0,s.jsx)(i.li,{children:"Don't use 1 kg for everything"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Proper collision geometry"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Simplified shapes (boxes, cylinders) for speed"}),"\n",(0,s.jsx)(i.li,{children:"Complex meshes cause slow collision detection"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Origin frames"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Orient axes to match joint motion direction"}),"\n",(0,s.jsx)(i.li,{children:"Don't have arbitrary orientations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Documentation"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Add comments explaining the structure"}),"\n",(0,s.jsx)(i.li,{children:"Include mass breakdown and total weight"}),"\n",(0,s.jsx)(i.li,{children:"Document calibration/assumptions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"hands-on-project",children:"Hands-On Project"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Build a complete URDF for a 7-DOF robot arm:"})}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Define a base (torso)"}),"\n",(0,s.jsx)(i.li,{children:"Define 7 revolute joints with realistic limits"}),"\n",(0,s.jsx)(i.li,{children:"Add an end-effector (gripper)"}),"\n",(0,s.jsx)(i.li,{children:"Verify in RViz"}),"\n",(0,s.jsx)(i.li,{children:"Test joint limits in Gazebo"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Challenge"}),": Add a gripper with 2 DOF (open/close fingers)"]}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Module 1 Complete!"})," You now understand ROS 2 architecture"]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/docs/modules/m2-digital-twin/m2-overview",children:"Module 2: The Digital Twin (Gazebo & Unity)"})}),"\n",(0,s.jsx)(i.li,{children:"Build a complete simulation of your humanoid arm"}),"\n",(0,s.jsx)(i.li,{children:"Connect real hardware to ROS 2 controllers"}),"\n"]})]})}function h(n={}){const{wrapper:i}={...(0,l.R)(),...n.components};return i?(0,s.jsx)(i,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}}}]);